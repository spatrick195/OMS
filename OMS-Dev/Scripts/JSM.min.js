var JSMController=(function(m,b){var a={};var l="JSMVariables";var e="JSMFunctions";var h={Init:0,Ready:1};var j=[];function f(o){var q=b.getElementById(o).innerHTML;var p=(q.indexOf("<")===0)||(q.indexOf("&lt;")===0);if(!p){return q.replace(/\&amp;/g,"&")}var n=(q.indexOf("&lt;")===0);return q.substring(n?20:14,(q.length-(n?18:12)))}function i(n){return n?JSON.parse(n):null}function d(s){if(!s){return}for(var q in s){var p=s[q];var r=q.split(".");var n=m;for(var o=0;o<r.length-1;++o){if(!n[r[o]]){n[r[o]]={}}n=n[r[o]]}n[r[r.length-1]]=p}}function c(q,t){if(!q){return}for(var r=0;r<q.length;++r){var o=q[r];var p=o.Function.split(".");var n=m;for(var s=0;s<p.length;++s){n=n[p[s]]}if(typeof n!=="function"){throw new Error(o.Function+" is not a valid function.")}j.push({Type:t,Function:n,Parameters:o.Parameters})}}function g(o,n,p){d(o);c(n,p);k(p)}function k(p){for(var o=0;o<j.length;++o){var n=j[o];if(n.Type===p){n.Function.apply(m,n.Parameters)}}}a.Init=function(o,n){g(o,n,h.Init)};a.InitReady=function(){g(i(f(l)),i(f(e)),h.Ready)};return a}(window,document));